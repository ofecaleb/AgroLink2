<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AgroLink - Empowering Farmers</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" onload="console.log('FontAwesome loaded')" onerror="console.error('FontAwesome failed to load')">
</head>
<body class="theme-green">
    <header>
        <button id="menu-toggle">☰</button>
        <h1 id="header-title"><i class="fas fa-leaf"></i> AgroLink</h1>
    </header>
    <nav id="menu">
        <ul>
            <li id="menu-language"><i class="fas fa-language"></i> Language</li>
            <li id="menu-theme"><i class="fas fa-moon"></i> Dark Mode</li>
            <li id="menu-color"><i class="fas fa-palette"></i> Color Scheme</li>
            <li id="menu-info"><i class="fas fa-info-circle"></i> Info</li>
            <li id="menu-logout"><i class="fas fa-sign-out-alt"></i> Logout</li>
        </ul>
    </nav>
    <div class="notification" id="notification"></div>
    <div class="offline-banner" id="offline-banner">Offline: Using cached data</div>
    <div class="tour-overlay" id="tour-overlay">
        <h2 id="tour-title">Welcome to AgroLink!</h2>
        <p id="tour-text"></p>
        <button class="btn" id="tour-next">Next</button>
        <button class="btn" id="tour-skip">Skip</button>
    </div>
    <div id="language-modal">
        <select id="language-select">
            <option value="en">English</option>
            <option value="fr">French</option>
            <option value="pid">Pidgin</option>
        </select>
        <button class="btn" id="language-confirm">Confirm</button>
    </div>
    <div id="main-content">
        <div class="card" id="auth">
            <h2 id="auth-title">Login</h2>
            <div id="auth-form">
                <div class="form-group">
                    <input type="tel" id="auth-phone" placeholder="Phone (e.g., +237 6XX XXX XXX)">
                </div>
                <div class="form-group">
                    <input type="number" id="auth-pin" placeholder="4-Digit PIN" maxlength="4">
                </div>
                <button class="btn" id="auth-login-btn">Login</button>
                <button class="btn" id="auth-signup-btn">Sign Up</button>
                <p id="forgot-pin-link" style="text-align: center; cursor: pointer;">Forgot PIN?</p>
            </div>
            <div id="forgot-pin-form">
                <div class="form-group">
                    <input type="tel" id="forgot-phone" placeholder="Enter Phone">
                </div>
                <button class="btn" id="forgot-submit-btn">Reset PIN</button>
                <p id="back-to-login" style="text-align: center; cursor: pointer;">Back to Login</p>
            </div>
        </div>
        <div class="card" id="dashboard">
            <h2 id="welcome-text">Welcome, Farmer!</h2>
            <p id="dashboard-info">Join a tontine, check crop prices, or see weather updates.</p>
            <p id="user-profile"></p>
        </div>
        <div class="card" id="tontine">
            <h2 id="tontine-title">My Tontine</h2>
            <p id="tontine-group">Group: None</p>
            <p id="tontine-contribution">Contribution: 0 CFA</p>
            <p id="tontine-payout">Next Payout: N/A</p>
            <p id="tontine-members">Members: None</p>
            <p id="tontine-leader">Leader: None</p>
            <p id="tontine-fee">Transaction Fee: 2%</p>
            <button class="btn" id="join-tontine-btn">Join Tontine</button>
            <div id="tontine-form">
                <div class="form-group">
                    <input type="text" id="group-name" placeholder="Group Name (e.g., Bamenda Farmers)">
                </div>
                <div class="form-group">
                    <input type="number" id="contribution-amount" placeholder="Monthly Contribution (CFA)">
                </div>
                <div class="form-group">
                    <input type="text" id="member-name" placeholder="Add Member (e.g., Marie)">
                </div>
                <button class="btn" id="submit-tontine">Create Group</button>
            </div>
            <button class="btn" id="add-contribution-btn" style="display: none;">Add Contribution</button>
            <button class="btn" id="momo-pay-btn" style="display: none;">Pay via MoMo</button>
            <p id="fee-breakdown" style="display: none;"></p>
            <div id="payment-history">
                <h3>Payment History</h3>
                <ul id="payment-list"></ul>
            </div>
        </div>
        <div class="card" id="market-prices">
            <h2 id="market-title">Market Prices</h2>
            <select id="region-select">
                <option value="bamenda">Bamenda</option>
                <option value="douala">Douala</option>
            </select>
            <ul id="price-list"></ul>
            <button class="btn" id="update-price-btn">Update Price</button>
            <div id="price-update-form">
                <div class="form-group">
                    <input type="text" id="crop-name" placeholder="Crop (e.g., Maize)">
                    <input type="number" id="crop-price" placeholder="Price (CFA/kg)">
                </div>
                <button class="btn" id="submit-price">Submit Price</button>
            </div>
            <button class="btn premium" id="price-trends-btn">View Price Trends (Premium)</button>
        </div>
        <div class="card" id="weather">
            <h2 id="weather-title">Weather Update</h2>
            <p id="weather-info">Bamenda: Sunny, 28°C, Rain expected tomorrow.</p>
        </div>
        <div class="card" id="community-feed">
            <h2 id="community-title">Community Feed</h2>
            <ul id="feed-list">
                <li>Marie: Just joined Bamenda Farmers tontine!</li>
                <li>John: Cocoa prices up in Douala!</li>
            </ul>
        </div>
        <div class="card" id="info">
            <h2 id="info-title">Info</h2>
            <h3>License</h3>
            <p>AgroLink is licensed under MIT. Free to use and modify.</p>
            <h3>Legal Rules</h3>
            <p>Users must be 18+. Tontine contributions are binding. AgroLink is not liable for group disputes.</p>
            <h3>About</h3>
            <p>Created by OfecalebPlatform, to empower farmers.</p>
        </div>
    </div>
    <nav class="tab-nav">
        <button id="tab-dashboard" class="active"><i class="fas fa-home"></i><span>Dashboard</span></button>
        <button id="tab-tontine"><i class="fas fa-money-bill"></i><span>Tontine</span></button>
        <button id="tab-market"><i class="fas fa-chart-line"></i><span>Prices</span></button>
        <button id="tab-weather"><i class="fas fa-cloud"></i><span>Weather</span></button>
        <button id="tab-community"><i class="fas fa-users"></i><span>Feed</span></button>
    </nav>
    <script src="script.js" defer bu button ></script>
</body>
</html>